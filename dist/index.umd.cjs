(function(P,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(P=typeof globalThis<"u"?globalThis:P||self,e(P.TacosToppings={},P.Vue))})(this,function(P,e){"use strict";var N;const k=typeof window<"u",Q=t=>typeof t=="string",b=()=>{};k&&((N=window==null?void 0:window.navigator)!=null&&N.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function E(t){return typeof t=="function"?t():e.unref(t)}function V(t,n){function o(...r){return new Promise((l,i)=>{Promise.resolve(t(()=>n.apply(this,r),{fn:n,thisArg:this,args:r})).then(l).catch(i)})}return o}function W(t,n={}){let o,r,l=b;const i=a=>{clearTimeout(a),l(),l=b};return a=>{const g=E(t),w=E(n.maxWait);return o&&i(o),g<=0||w!==void 0&&w<=0?(r&&(i(r),r=null),Promise.resolve(a())):new Promise((u,h)=>{l=n.rejectOnCancel?h:u,w&&!r&&(r=setTimeout(()=>{o&&i(o),r=null,u(a())},w)),o=setTimeout(()=>{r&&i(r),r=null,u(a())},g)})}}function j(t,n=!0,o=!0,r=!1){let l=0,i,d=!0,a=b,g;const w=()=>{i&&(clearTimeout(i),i=void 0,a(),a=b)};return h=>{const _=E(t),s=Date.now()-l,c=()=>g=h();if(w(),_<=0)return l=Date.now(),c();if(s>_&&(o||!d))l=Date.now(),c();else if(n)return new Promise((m,O)=>{a=r?O:m,i=setTimeout(()=>{l=Date.now(),d=!0,m(c()),w()},_-s)});return!o&&!i&&(i=setTimeout(()=>d=!0,_)),d=!1,g}}function z(t){return t}function q(t){return e.getCurrentScope()?(e.onScopeDispose(t),!0):!1}function M(t,n=200,o={}){return V(W(n,o),t)}function U(t,n=200,o=!1,r=!0,l=!1){return V(j(n,o,r,l),t)}function S(t){var n;const o=E(t);return(n=o==null?void 0:o.$el)!=null?n:o}const L=k?window:void 0;k&&window.document,k&&window.navigator,k&&window.location;function I(...t){let n,o,r,l;if(Q(t[0])||Array.isArray(t[0])?([o,r,l]=t,n=L):[n,o,r,l]=t,!n)return b;Array.isArray(o)||(o=[o]),Array.isArray(r)||(r=[r]);const i=[],d=()=>{i.forEach(u=>u()),i.length=0},a=(u,h,_)=>(u.addEventListener(h,_,l),()=>u.removeEventListener(h,_,l)),g=e.watch(()=>S(n),u=>{d(),u&&i.push(...o.flatMap(h=>r.map(_=>a(u,h,_))))},{immediate:!0,flush:"post"}),w=()=>{g(),d()};return q(w),w}function G(t,n,o={}){const{window:r=L,ignore:l=[],capture:i=!0,detectIframe:d=!1}=o;if(!r)return;let a=!0,g;const w=s=>l.some(c=>{if(typeof c=="string")return Array.from(r.document.querySelectorAll(c)).some(m=>m===s.target||s.composedPath().includes(m));{const m=S(c);return m&&(s.target===m||s.composedPath().includes(m))}}),u=s=>{r.clearTimeout(g);const c=S(t);if(!(!c||c===s.target||s.composedPath().includes(c))){if(s.detail===0&&(a=!w(s)),!a){a=!0;return}n(s)}},h=[I(r,"click",u,{passive:!0,capture:i}),I(r,"pointerdown",s=>{const c=S(t);c&&(a=!s.composedPath().includes(c)&&!w(s))},{passive:!0}),I(r,"pointerup",s=>{if(s.button===0){const c=s.composedPath();s.composedPath=()=>c,g=r.setTimeout(()=>u(s),50)}},{passive:!0}),d&&I(r,"blur",s=>{var c;const m=S(t);((c=r.document.activeElement)==null?void 0:c.tagName)==="IFRAME"&&!(m!=null&&m.contains(r.document.activeElement))&&n(s)})].filter(Boolean);return()=>h.forEach(s=>s())}const C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B="__vueuse_ssr_handlers__";C[B]=C[B]||{},C[B];const $=1;function X(t,n={}){const{throttle:o=0,idle:r=200,onStop:l=b,onScroll:i=b,offset:d={left:0,right:0,top:0,bottom:0},eventListenerOptions:a={capture:!1,passive:!0},behavior:g="auto"}=n,w=e.ref(0),u=e.ref(0),h=e.computed({get(){return w.value},set(p){s(p,void 0)}}),_=e.computed({get(){return u.value},set(p){s(void 0,p)}});function s(p,y){var v,T,H;const A=E(t);A&&((H=A instanceof Document?document.body:A)==null||H.scrollTo({top:(v=E(y))!=null?v:_.value,left:(T=E(p))!=null?T:h.value,behavior:E(g)}))}const c=e.ref(!1),m=e.reactive({left:!0,right:!1,top:!0,bottom:!1}),O=e.reactive({left:!1,right:!1,top:!1,bottom:!1}),D=M(p=>{c.value=!1,O.left=!1,O.right=!1,O.top=!1,O.bottom=!1,l(p)},o+r),f=p=>{const y=p.target===document?p.target.documentElement:p.target,v=y.scrollLeft;O.left=v<w.value,O.right=v>u.value,m.left=v<=0+(d.left||0),m.right=v+y.clientWidth>=y.scrollWidth-(d.right||0)-$,w.value=v;let T=y.scrollTop;p.target===document&&!T&&(T=document.body.scrollTop),O.top=T<u.value,O.bottom=T>u.value,m.top=T<=0+(d.top||0),m.bottom=T+y.clientHeight>=y.scrollHeight-(d.bottom||0)-$,u.value=T,c.value=!0,D(p),i(p)};return I(t,"scroll",o?U(f,o,!0,!1):f,a),{x:h,y:_,isScrolling:c,arrivedState:m,directions:O}}var x;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(x||(x={}));var K=Object.defineProperty,R=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,F=(t,n,o)=>n in t?K(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,Z=(t,n)=>{for(var o in n||(n={}))Y.call(n,o)&&F(t,o,n[o]);if(R)for(var o of R(n))J.call(n,o)&&F(t,o,n[o]);return t};Z({linear:z},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const ee={class:"c-dropdown__selector__text"},te={key:0,class:"c-dropdown__selector__placeholder"},oe={key:1,class:"c-dropdown__selector__active-label"},ne={class:"c-dropdown__selector__icon"},re={class:"c-dropdown__popover"},se={key:0,class:"c-dropdown__popover__header"},le=["onClick"],ie={key:1,class:"c-dropdown__popover__footer"},ae=e.defineComponent({__name:"AppDropdown",props:{defaultOptions:{type:Array,required:!1,default:()=>[]},options:{type:Array,required:!0,default:()=>[]},multiple:{type:Boolean,required:!1,default:!1},stayOpenOnSelection:{type:Boolean,required:!1,default:!1}},emits:["update:options","open:dropdown","close:dropdown"],setup(t,{emit:n}){const o=t,r=e.ref(),l=e.ref(),i=e.ref(!1),d=e.ref([]),a=e.computed(()=>d.value.length>0?d.value:o.defaultOptions);e.onMounted(()=>{o.multiple&&(d.value=o.defaultOptions)});const g=e.computed(()=>({"is-open":i.value,"is-close":!i.value,"has-value":a.value.length>=1,"has-no-value":a.value.length<1,"is-multiple":o.multiple})),w=f=>{if(o.multiple){let p=0;d.value=d.value.filter(y=>{const v=y.key!==f.key;return v||p++,v}),p<1&&d.value.push(f)}else d.value=[f];n("update:options",a.value),o.multiple||o.stayOpenOnSelection||_()},u=()=>{setTimeout(()=>{c.value=0},210)},h=()=>{i.value=!0,n("open:dropdown")},_=()=>{i.value=!1,n("close:dropdown"),u()},s=(f=!1)=>{f?h():_()};G(r,()=>_());const{y:c,arrivedState:m}=X(l,{offset:{top:15,bottom:15}}),O=e.computed(()=>{var f,p;return l.value?((f=l.value)==null?void 0:f.scrollHeight)>((p=l.value)==null?void 0:p.clientHeight):!1}),D=e.computed(()=>({"is-scrolled-top":m.top,"is-scrolled-bottom":m.bottom||!O.value}));return(f,p)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["c-dropdown",e.unref(g)]),ref_key:"dropdown",ref:r},[e.createElementVNode("div",{class:"c-dropdown__selector",onClick:p[0]||(p[0]=y=>s(!i.value))},[e.renderSlot(f.$slots,"prefix",{},void 0,!0),e.createElementVNode("div",ee,[e.unref(a).length<1?(e.openBlock(),e.createElementBlock("div",te,[e.renderSlot(f.$slots,"placeholder",{},void 0,!0)])):(e.openBlock(),e.createElementBlock("div",oe,[e.renderSlot(f.$slots,"activeLabel",e.normalizeProps(e.guardReactiveProps({activeOptions:e.unref(a)})),()=>[e.createTextVNode(e.toDisplayString(e.unref(a)),1)],!0)]))]),e.renderSlot(f.$slots,"suffix",{},void 0,!0),e.createElementVNode("div",ne,[e.renderSlot(f.$slots,"icon",{},()=>[e.createTextVNode("â†“")],!0)])]),e.createElementVNode("div",re,[f.$slots.popoverHeader?(e.openBlock(),e.createElementBlock("div",se,[e.renderSlot(f.$slots,"popoverHeader",e.normalizeProps(e.guardReactiveProps({openDropdown:h,closeDropdown:_})),void 0,!0)])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["c-dropdown__popover__scroll",e.unref(D)])},[e.createElementVNode("ul",{ref_key:"dropdownPopover",ref:l,class:"c-dropdown__popover__options-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.options,y=>(e.openBlock(),e.createElementBlock("li",{key:y.key,onClick:v=>w(y),class:e.normalizeClass(["c-dropdown__popover__options-list__item",{"is-active":e.unref(a).find(v=>v.key===y.key)}])},[e.renderSlot(f.$slots,"item",e.normalizeProps(e.guardReactiveProps({...y,openDropdown:h,closeDropdown:_})),()=>[e.createTextVNode(e.toDisplayString(y),1)],!0)],10,le))),128))],512)],2),f.$slots.popoverFooter?(e.openBlock(),e.createElementBlock("div",ie,[e.renderSlot(f.$slots,"popoverFooter",e.normalizeProps(e.guardReactiveProps({openDropdown:h,closeDropdown:_})),void 0,!0)])):e.createCommentVNode("",!0)])],2))}}),ue="",ce=((t,n)=>{const o=t.__vccOpts||t;for(const[r,l]of n)o[r]=l;return o})(ae,[["__scopeId","data-v-5c6159e4"]]);P.TacosDropdown=ce,Object.defineProperty(P,Symbol.toStringTag,{value:"Module"})});
