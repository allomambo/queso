"use strict";require('../assets/components/QuesoModal.css');const e=require("vue"),g=require("./QuesoDropdown-o5F1b4fx.cjs"),P=require("./QuesoCollapsible-D3MZTStb.cjs"),f=Symbol(),k=e.defineComponent({__name:"QuesoModalOverlay",setup(u){const{closeModal:r}=e.inject(f);return(i,l)=>(e.openBlock(),e.createElementBlock("div",{class:"queso-modal__overlay",onClick:l[0]||(l[0]=(...n)=>e.unref(r)&&e.unref(r)(...n))}))}}),S=["aria-expanded"],h={class:"queso-modal__content"},C=e.defineComponent({__name:"QuesoModal",props:{hasOverlay:{type:Boolean,default:!0},isScrollLocked:{type:Boolean,default:!0}},emits:["modal:open","modal:close"],setup(u,{expose:r,emit:i}){const l=u,n=i,s=e.ref(null),{activate:v,deactivate:b}=g.useFocusTrap(s),_=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed",'[tabindex]:not([tabindex="-1"])',"[contenteditable]"],y=e.computed(()=>s.value===null?!1:_.some(o=>s.value.querySelector(o)!==null)),c=o=>{y.value&&(o?v():b())},t=e.ref(!1),m=()=>{t.value=!0},p=()=>{t.value=!1};e.provide(f,{openModal:m,closeModal:p});const d=(o=!0)=>{l.isScrollLocked&&(document.documentElement.style.overflow=o?"hidden":"")};e.watch(t,o=>{o?(c(!0),d(!0),n("modal:open")):(c(!1),d(!1),n("modal:close"))}),e.onMounted(()=>{t.value&&(c(!0),d(!0))}),P.onKeyStroke("Escape",()=>{t.value&&(t.value=!1)});const a=e.reactive({isModalOpen:t,openModal:m,closeModal:p});return r({...a}),(o,M)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.renderSlot(o.$slots,"trigger",e.normalizeProps(e.guardReactiveProps(a))),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createElementVNode("div",e.mergeProps({ref_key:"modalContainer",ref:s,class:["queso-modal",{"is-modal-open":t.value}],"aria-expanded":t.value},o.$attrs),[e.renderSlot(o.$slots,"beforeContent",e.normalizeProps(e.guardReactiveProps(a))),e.createElementVNode("div",h,[e.renderSlot(o.$slots,"content",e.normalizeProps(e.guardReactiveProps(a)),()=>[e.renderSlot(o.$slots,"default",e.normalizeProps(e.guardReactiveProps(a)))])]),e.renderSlot(o.$slots,"afterContent",e.normalizeProps(e.guardReactiveProps(a))),o.hasOverlay?e.renderSlot(o.$slots,"overlay",e.normalizeProps(e.mergeProps({key:0},a)),()=>[e.createVNode(e.unref(k))]):e.createCommentVNode("",!0)],16,S)]))],64))}});exports._sfc_main=C;
