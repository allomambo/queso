"use strict";require('../assets/components/QuesoCheckboxMultiple.css');const e=require("vue"),b=require("./QuesoCheckbox-D98YmG-z.cjs"),h=require("./QuesoField-KPDzm51d.cjs"),k=["id","name","required","disabled","onFocus","onBlur","onUpdate:modelValue"],C={class:"queso-checkbox__box"},_={class:"queso-checkbox__box__symbol"},g={class:"queso-checkbox__label"},P=["innerHTML"],$=e.defineComponent({__name:"QuesoCheckboxMultiple",props:e.mergeModels({choices:{},validationMessage:{default:"Please select at least one option"},id:{},name:{},label:{},isError:{type:Boolean},isRequired:{type:Boolean},isDisabled:{type:Boolean},isReadOnly:{type:Boolean},extraAttributes:{}},{modelValue:{required:!0,default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const a=d,f=b.useExtendedFieldProps(a),i=e.useModel(d,"modelValue"),s=e.ref(null),u=e.reactive(a.choices.map(r=>({isChecked:i.value.includes(r.value),...r}))),c=e.computed(()=>u.filter(r=>r.isChecked).map(r=>r.value));e.watch(c,r=>{JSON.stringify(r)!==JSON.stringify(i.value)&&(i.value=r)},{immediate:!0}),e.watch(i,r=>{u.forEach(t=>{t.isChecked=r.includes(t.value)})},{immediate:!0});const m=e.ref([]),v=e.computed(()=>c.value.length>0),p=e.computed(()=>a.isRequired&&!v.value);return e.watch(p,r=>{m.value.forEach(t=>{r?t.setCustomValidity(a.validationMessage):t.setCustomValidity("")})},{immediate:!0}),(r,t)=>(e.openBlock(),e.createBlock(e.unref(h._sfc_main),e.mergeProps({class:"-checkbox-multiple","has-static-label":""},e.unref(f)),{beforeLabel:e.withCtx(o=>[e.renderSlot(r.$slots,"beforeLabel",e.normalizeProps(e.guardReactiveProps(o)))]),label:e.withCtx(o=>[e.renderSlot(r.$slots,"label",e.normalizeProps(e.guardReactiveProps(o)))]),required:e.withCtx(o=>[e.renderSlot(r.$slots,"required",e.normalizeProps(e.guardReactiveProps(o)))]),afterLabel:e.withCtx(o=>[e.renderSlot(r.$slots,"afterLabel",e.normalizeProps(e.guardReactiveProps(o)))]),beforeInput:e.withCtx(o=>[e.renderSlot(r.$slots,"beforeInput",e.normalizeProps(e.guardReactiveProps(o)))]),input:e.withCtx(o=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u,l=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o.isReadOnly?"div":"label"),{class:e.normalizeClass(["queso-checkbox",{"is-checkbox-hover":s.value===l.value,"is-checked":l.isChecked}]),for:o.isReadOnly?null:`${o.fieldID}-${l.value}`,onMouseover:n=>{s.value=l.value,o.toggleIsHover(!0)},onMouseleave:n=>{s.value=null,o.toggleIsHover(!1)}},{default:e.withCtx(()=>[o.isReadOnly?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("input",e.mergeProps({key:0,ref_for:!0,ref_key:"checkboxInputs",ref:m,class:"queso-checkbox__native",type:"checkbox",id:`${o.fieldID}-${l.value}`,name:`${o.fieldName}[]`,required:o.isRequired&&!v.value,disabled:o.isDisabled,onFocus:n=>o.toggleIsActive(!0),onBlur:n=>o.toggleIsActive(!1)},r.extraAttributes,{"onUpdate:modelValue":n=>l.isChecked=n}),null,16,k)),[[e.vModelCheckbox,l.isChecked]]),e.renderSlot(r.$slots,"checkbox",e.mergeProps({ref_for:!0},{...o,...l,isHovered:s.value===l.value,isSelected:l.isChecked}),()=>[e.renderSlot(r.$slots,"checkboxBox",e.mergeProps({ref_for:!0},{...o,...l,isHovered:s.value===l.value,isSelected:l.isChecked}),()=>[e.createElementVNode("span",C,[e.createElementVNode("span",_,[e.renderSlot(r.$slots,"checkboxBoxSymbol",e.mergeProps({ref_for:!0},{...o,...l,isHovered:s.value===l.value,isSelected:l.isChecked}),()=>[e.createTextVNode("✔︎")])])])]),e.renderSlot(r.$slots,"checkboxLabel",e.mergeProps({ref_for:!0},{...o,...l,isHovered:s.value===l.value,isSelected:l.isChecked}),()=>[e.createElementVNode("span",g,[e.createElementVNode("span",{class:"queso-checkbox__label__text",innerHTML:l.label},null,8,P)])])])]),_:2},1064,["class","for","onMouseover","onMouseleave"]))),256))]),afterInput:e.withCtx(o=>[e.renderSlot(r.$slots,"afterInput",e.normalizeProps(e.guardReactiveProps(o)))]),error:e.withCtx(o=>[e.renderSlot(r.$slots,"error",e.normalizeProps(e.guardReactiveProps(o)))]),_:3},16))}});exports._sfc_main=$;
