"use strict";require('../assets/components/QuesoModal.css');const e=require("vue"),b=require("./QuesoDropdown-DDsyRibE.cjs"),y=require("./QuesoCollapsible-D3MZTStb.cjs"),m=Symbol(),C=e.defineComponent({__name:"QuesoModalOverlay",setup(f){const s=e.inject(m),l=s==null?void 0:s.close;return(a,n)=>(e.openBlock(),e.createElementBlock("div",{class:"queso-modal__overlay",onClick:n[0]||(n[0]=(...r)=>e.unref(l)&&e.unref(l)(...r))}))}}),S=["aria-expanded"],h={class:"queso-modal__content"},k=e.defineComponent({__name:"QuesoModal",emits:["modal:open","modal:close"],setup(f,{expose:s,emit:l}){const a=l,n=e.ref(null),{activate:r,deactivate:p}=b.useFocusTrap(n),v=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed",'[tabindex]:not([tabindex="-1"])',"[contenteditable]"],_=e.computed(()=>n.value===null?!1:v.some(o=>n.value.querySelector(o)!==null)),c=o=>{_.value&&(o?r():p())},t=e.ref(!1),d=()=>{t.value=!0},i=()=>{t.value=!1},u=(o=!0)=>{document.documentElement.style.overflow=o?"hidden":""};return e.watch(t,o=>{o?(c(!0),u(!0),a("modal:open")):(c(!1),u(!1),a("modal:close"))}),e.onMounted(()=>{t.value&&(c(!0),u(!0))}),y.onKeyStroke("Escape",()=>{t.value&&(t.value=!1)}),e.provide(m,{open:d,close:i}),s({isModalOpen:t,open:d,close:i}),(o,q)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createElementVNode("div",e.mergeProps({ref_key:"modalContainer",ref:n,class:["queso-modal",{"is-modal-open":t.value}],"aria-expanded":t.value},o.$attrs),[e.renderSlot(o.$slots,"beforeContent"),e.createElementVNode("div",h,[e.renderSlot(o.$slots,"default")]),e.renderSlot(o.$slots,"afterContent"),e.renderSlot(o.$slots,"overlay",{},()=>[e.createVNode(e.unref(C))])],16,S)]))}});exports._sfc_main=k;
