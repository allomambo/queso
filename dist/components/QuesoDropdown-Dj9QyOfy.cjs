"use strict";require('../assets/components/QuesoDropdown.css');const s=require("vue"),te=require("./QuesoCollapsible-D3MZTStb.cjs");function ge(n){return s.getCurrentScope()?(s.onScopeDispose(n),!0):!1}function ae(n){return typeof n=="function"?n():s.unref(n)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const we=n=>n!=null;function Ne(n){var e;const t=ae(n);return(e=t==null?void 0:t.$el)!=null?e:t}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var fe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Y=fe.join(","),ve=typeof Element>"u",R=ve?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Q=!ve&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},Z=function n(e,t){var a;t===void 0&&(t=!0);var l=e==null||(a=e.getAttribute)===null||a===void 0?void 0:a.call(e,"inert"),u=l===""||l==="true",o=u||t&&e&&n(e.parentNode);return o},Te=function(e){var t,a=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return a===""||a==="true"},pe=function(e,t,a){if(Z(e))return[];var l=Array.prototype.slice.apply(e.querySelectorAll(Y));return t&&R.call(e,Y)&&l.unshift(e),l=l.filter(a),l},be=function n(e,t,a){for(var l=[],u=Array.from(e);u.length;){var o=u.shift();if(!Z(o,!1))if(o.tagName==="SLOT"){var v=o.assignedElements(),p=v.length?v:o.children,f=n(p,!0,a);a.flatten?l.push.apply(l,f):l.push({scopeParent:o,candidates:f})}else{var w=R.call(o,Y);w&&a.filter(o)&&(t||!e.includes(o))&&l.push(o);var N=o.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(o),y=!Z(N,!1)&&(!a.shadowRootFilter||a.shadowRootFilter(o));if(N&&y){var E=n(N===!0?o.children:N.children,!0,a);a.flatten?l.push.apply(l,E):l.push({scopeParent:o,candidates:E})}else u.unshift.apply(u,o.children)}}return l},he=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},_=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Te(e))&&!he(e)?0:e.tabIndex},ke=function(e,t){var a=_(e);return a<0&&t&&!he(e)?0:a},Se=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},me=function(e){return e.tagName==="INPUT"},Ee=function(e){return me(e)&&e.type==="hidden"},Fe=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return t},De=function(e,t){for(var a=0;a<e.length;a++)if(e[a].checked&&e[a].form===t)return e[a]},Oe=function(e){if(!e.name)return!0;var t=e.form||Q(e),a=function(v){return t.querySelectorAll('input[type="radio"][name="'+v+'"]')},l;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")l=a(window.CSS.escape(e.name));else try{l=a(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var u=De(l,e.form);return!u||u===e},Pe=function(e){return me(e)&&e.type==="radio"},_e=function(e){return Pe(e)&&!Oe(e)},Re=function(e){var t,a=e&&Q(e),l=(t=a)===null||t===void 0?void 0:t.host,u=!1;if(a&&a!==e){var o,v,p;for(u=!!((o=l)!==null&&o!==void 0&&(v=o.ownerDocument)!==null&&v!==void 0&&v.contains(l)||e!=null&&(p=e.ownerDocument)!==null&&p!==void 0&&p.contains(e));!u&&l;){var f,w,N;a=Q(l),l=(f=a)===null||f===void 0?void 0:f.host,u=!!((w=l)!==null&&w!==void 0&&(N=w.ownerDocument)!==null&&N!==void 0&&N.contains(l))}}return u},se=function(e){var t=e.getBoundingClientRect(),a=t.width,l=t.height;return a===0&&l===0},Ae=function(e,t){var a=t.displayCheck,l=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var u=R.call(e,"details>summary:first-of-type"),o=u?e.parentElement:e;if(R.call(o,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof l=="function"){for(var v=e;e;){var p=e.parentElement,f=Q(e);if(p&&!p.shadowRoot&&l(p)===!0)return se(e);e.assignedSlot?e=e.assignedSlot:!p&&f!==e.ownerDocument?e=f.host:e=p}e=v}if(Re(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return se(e);return!1},Ce=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var a=0;a<t.children.length;a++){var l=t.children.item(a);if(l.tagName==="LEGEND")return R.call(t,"fieldset[disabled] *")?!0:!l.contains(e)}return!0}t=t.parentElement}return!1},X=function(e,t){return!(t.disabled||Z(t)||Ee(t)||Ae(t,e)||Fe(t)||Ce(t))},ne=function(e,t){return!(_e(t)||_(t)<0||!X(e,t))},Ie=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Be=function n(e){var t=[],a=[];return e.forEach(function(l,u){var o=!!l.scopeParent,v=o?l.scopeParent:l,p=ke(v,o),f=o?n(l.candidates):v;p===0?o?t.push.apply(t,f):t.push(v):a.push({documentOrder:u,tabIndex:p,item:l,isScope:o,content:f})}),a.sort(Se).reduce(function(l,u){return u.isScope?l.push.apply(l,u.content):l.push(u.content),l},[]).concat(t)},xe=function(e,t){t=t||{};var a;return t.getShadowRoot?a=be([e],t.includeContainer,{filter:ne.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Ie}):a=pe(e,t.includeContainer,ne.bind(null,t)),Be(a)},Le=function(e,t){t=t||{};var a;return t.getShadowRoot?a=be([e],t.includeContainer,{filter:X.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):a=pe(e,t.includeContainer,X.bind(null,t)),a},I=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return R.call(e,Y)===!1?!1:ne(t,e)},Ke=fe.concat("iframe").join(","),re=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return R.call(e,Ke)===!1?!1:X(t,e)};/*!
* focus-trap 7.6.5
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function oe(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=Array(e);t<e;t++)a[t]=n[t];return a}function qe(n){if(Array.isArray(n))return oe(n)}function Ve(n,e,t){return(e=Ge(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function je(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function le(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,a)}return t}function ue(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?le(Object(t),!0).forEach(function(a){Ve(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function Me(n){return qe(n)||je(n)||Ue(n)||$e()}function ze(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ge(n){var e=ze(n,"string");return typeof e=="symbol"?e:e+""}function Ue(n,e){if(n){if(typeof n=="string")return oe(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oe(n,e):void 0}}var ce={activateTrap:function(e,t){if(e.length>0){var a=e[e.length-1];a!==t&&a._setPausedState(!0)}var l=e.indexOf(t);l===-1||e.splice(l,1),e.push(t)},deactivateTrap:function(e,t){var a=e.indexOf(t);a!==-1&&e.splice(a,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},We=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},He=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},j=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Ye=function(e){return j(e)&&!e.shiftKey},Qe=function(e){return j(e)&&e.shiftKey},de=function(e){return setTimeout(e,0)},V=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),l=1;l<t;l++)a[l-1]=arguments[l];return typeof e=="function"?e.apply(void 0,a):e},H=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Ze=[],Xe=function(e,t){var a=(t==null?void 0:t.document)||document,l=(t==null?void 0:t.trapStack)||Ze,u=ue({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Ye,isKeyBackward:Qe},t),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},v,p=function(r,i,d){return r&&r[i]!==void 0?r[i]:u[d||i]},f=function(r,i){var d=typeof(i==null?void 0:i.composedPath)=="function"?i.composedPath():void 0;return o.containerGroups.findIndex(function(b){var m=b.container,g=b.tabbableNodes;return m.contains(r)||(d==null?void 0:d.includes(m))||g.find(function(h){return h===r})})},w=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=i.hasFallback,b=d===void 0?!1:d,m=i.params,g=m===void 0?[]:m,h=u[r];if(typeof h=="function"&&(h=h.apply(void 0,Me(g))),h===!0&&(h=void 0),!h){if(h===void 0||h===!1)return h;throw new Error("`".concat(r,"` was specified but was not a node, or did not return a node"))}var T=h;if(typeof h=="string"){try{T=a.querySelector(h)}catch(k){throw new Error("`".concat(r,'` appears to be an invalid selector; error="').concat(k.message,'"'))}if(!T&&!b)throw new Error("`".concat(r,"` as selector refers to no known node"))}return T},N=function(){var r=w("initialFocus",{hasFallback:!0});if(r===!1)return!1;if(r===void 0||r&&!re(r,u.tabbableOptions))if(f(a.activeElement)>=0)r=a.activeElement;else{var i=o.tabbableGroups[0],d=i&&i.firstTabbableNode;r=d||w("fallbackFocus")}else r===null&&(r=w("fallbackFocus"));if(!r)throw new Error("Your focus-trap needs to have at least one focusable element");return r},y=function(){if(o.containerGroups=o.containers.map(function(r){var i=xe(r,u.tabbableOptions),d=Le(r,u.tabbableOptions),b=i.length>0?i[0]:void 0,m=i.length>0?i[i.length-1]:void 0,g=d.find(function(k){return I(k)}),h=d.slice().reverse().find(function(k){return I(k)}),T=!!i.find(function(k){return _(k)>0});return{container:r,tabbableNodes:i,focusableNodes:d,posTabIndexesFound:T,firstTabbableNode:b,lastTabbableNode:m,firstDomTabbableNode:g,lastDomTabbableNode:h,nextTabbableNode:function(P){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,D=i.indexOf(P);return D<0?K?d.slice(d.indexOf(P)+1).find(function(q){return I(q)}):d.slice(0,d.indexOf(P)).reverse().find(function(q){return I(q)}):i[D+(K?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(r){return r.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!w("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(r){return r.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},E=function(r){var i=r.activeElement;if(i)return i.shadowRoot&&i.shadowRoot.activeElement!==null?E(i.shadowRoot):i},S=function(r){if(r!==!1&&r!==E(document)){if(!r||!r.focus){S(N());return}r.focus({preventScroll:!!u.preventScroll}),o.mostRecentlyFocusedNode=r,We(r)&&r.select()}},$=function(r){var i=w("setReturnFocus",{params:[r]});return i||(i===!1?!1:r)},A=function(r){var i=r.target,d=r.event,b=r.isBackward,m=b===void 0?!1:b;i=i||H(d),y();var g=null;if(o.tabbableGroups.length>0){var h=f(i,d),T=h>=0?o.containerGroups[h]:void 0;if(h<0)m?g=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:g=o.tabbableGroups[0].firstTabbableNode;else if(m){var k=o.tabbableGroups.findIndex(function(J){var ee=J.firstTabbableNode;return i===ee});if(k<0&&(T.container===i||re(i,u.tabbableOptions)&&!I(i,u.tabbableOptions)&&!T.nextTabbableNode(i,!1))&&(k=h),k>=0){var P=k===0?o.tabbableGroups.length-1:k-1,K=o.tabbableGroups[P];g=_(i)>=0?K.lastTabbableNode:K.lastDomTabbableNode}else j(d)||(g=T.nextTabbableNode(i,!1))}else{var D=o.tabbableGroups.findIndex(function(J){var ee=J.lastTabbableNode;return i===ee});if(D<0&&(T.container===i||re(i,u.tabbableOptions)&&!I(i,u.tabbableOptions)&&!T.nextTabbableNode(i))&&(D=h),D>=0){var q=D===o.tabbableGroups.length-1?0:D+1,ie=o.tabbableGroups[q];g=_(i)>=0?ie.firstTabbableNode:ie.firstDomTabbableNode}else j(d)||(g=T.nextTabbableNode(i))}}else g=w("fallbackFocus");return g},C=function(r){var i=H(r);if(!(f(i,r)>=0)){if(V(u.clickOutsideDeactivates,r)){v.deactivate({returnFocus:u.returnFocusOnDeactivate});return}V(u.allowOutsideClick,r)||r.preventDefault()}},M=function(r){var i=H(r),d=f(i,r)>=0;if(d||i instanceof Document)d&&(o.mostRecentlyFocusedNode=i);else{r.stopImmediatePropagation();var b,m=!0;if(o.mostRecentlyFocusedNode)if(_(o.mostRecentlyFocusedNode)>0){var g=f(o.mostRecentlyFocusedNode),h=o.containerGroups[g].tabbableNodes;if(h.length>0){var T=h.findIndex(function(k){return k===o.mostRecentlyFocusedNode});T>=0&&(u.isKeyForward(o.recentNavEvent)?T+1<h.length&&(b=h[T+1],m=!1):T-1>=0&&(b=h[T-1],m=!1))}}else o.containerGroups.some(function(k){return k.tabbableNodes.some(function(P){return _(P)>0})})||(m=!1);else m=!1;m&&(b=A({target:o.mostRecentlyFocusedNode,isBackward:u.isKeyBackward(o.recentNavEvent)})),S(b||o.mostRecentlyFocusedNode||N())}o.recentNavEvent=void 0},B=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=r;var d=A({event:r,isBackward:i});d&&(j(r)&&r.preventDefault(),S(d))},F=function(r){(u.isKeyForward(r)||u.isKeyBackward(r))&&B(r,u.isKeyBackward(r))},x=function(r){He(r)&&V(u.escapeDeactivates,r)!==!1&&(r.preventDefault(),v.deactivate())},z=function(r){var i=H(r);f(i,r)>=0||V(u.clickOutsideDeactivates,r)||V(u.allowOutsideClick,r)||(r.preventDefault(),r.stopImmediatePropagation())},G=function(){if(o.active)return ce.activateTrap(l,v),o.delayInitialFocusTimer=u.delayInitialFocus?de(function(){S(N())}):S(N()),a.addEventListener("focusin",M,!0),a.addEventListener("mousedown",C,{capture:!0,passive:!1}),a.addEventListener("touchstart",C,{capture:!0,passive:!1}),a.addEventListener("click",z,{capture:!0,passive:!1}),a.addEventListener("keydown",F,{capture:!0,passive:!1}),a.addEventListener("keydown",x),v},U=function(){if(o.active)return a.removeEventListener("focusin",M,!0),a.removeEventListener("mousedown",C,!0),a.removeEventListener("touchstart",C,!0),a.removeEventListener("click",z,!0),a.removeEventListener("keydown",F,!0),a.removeEventListener("keydown",x),v},W=function(r){var i=r.some(function(d){var b=Array.from(d.removedNodes);return b.some(function(m){return m===o.mostRecentlyFocusedNode})});i&&S(N())},L=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(W):void 0,O=function(){L&&(L.disconnect(),o.active&&!o.paused&&o.containers.map(function(r){L.observe(r,{subtree:!0,childList:!0})}))};return v={get active(){return o.active},get paused(){return o.paused},activate:function(r){if(o.active)return this;var i=p(r,"onActivate"),d=p(r,"onPostActivate"),b=p(r,"checkCanFocusTrap");b||y(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=E(a),i==null||i();var m=function(){b&&y(),G(),O(),d==null||d()};return b?(b(o.containers.concat()).then(m,m),this):(m(),this)},deactivate:function(r){if(!o.active)return this;var i=ue({onDeactivate:u.onDeactivate,onPostDeactivate:u.onPostDeactivate,checkCanReturnFocus:u.checkCanReturnFocus},r);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,U(),o.active=!1,o.paused=!1,O(),ce.deactivateTrap(l,v);var d=p(i,"onDeactivate"),b=p(i,"onPostDeactivate"),m=p(i,"checkCanReturnFocus"),g=p(i,"returnFocus","returnFocusOnDeactivate");d==null||d();var h=function(){de(function(){g&&S($(o.nodeFocusedBeforeActivation)),b==null||b()})};return g&&m?(m($(o.nodeFocusedBeforeActivation)).then(h,h),this):(h(),this)},pause:function(r){return o.active?(o.manuallyPaused=!0,this._setPausedState(!0,r)):this},unpause:function(r){return o.active?(o.manuallyPaused=!1,l[l.length-1]!==this?this:this._setPausedState(!1,r)):this},updateContainerElements:function(r){var i=[].concat(r).filter(Boolean);return o.containers=i.map(function(d){return typeof d=="string"?a.querySelector(d):d}),o.active&&y(),O(),this}},Object.defineProperties(v,{_isManuallyPaused:{value:function(){return o.manuallyPaused}},_setPausedState:{value:function(r,i){if(o.paused===r)return this;if(o.paused=r,r){var d=p(i,"onPause"),b=p(i,"onPostPause");d==null||d(),U(),O(),b==null||b()}else{var m=p(i,"onUnpause"),g=p(i,"onPostUnpause");m==null||m(),y(),G(),O(),g==null||g()}return this}}}),v.updateContainerElements(e),v};function ye(n,e={}){let t;const{immediate:a,...l}=e,u=s.ref(!1),o=s.ref(!1),v=y=>t&&t.activate(y),p=y=>t&&t.deactivate(y),f=()=>{t&&(t.pause(),o.value=!0)},w=()=>{t&&(t.unpause(),o.value=!1)},N=s.computed(()=>{const y=ae(n);return(Array.isArray(y)?y:[y]).map(E=>{const S=ae(E);return typeof S=="string"?S:Ne(S)}).filter(we)});return s.watch(N,y=>{y.length&&(t=Xe(y,{...l,onActivate(){u.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){u.value=!1,e.onDeactivate&&e.onDeactivate()}}),a&&v())},{flush:"post"}),ge(()=>p()),{hasFocus:u,isPaused:o,activate:v,deactivate:p,pause:f,unpause:w}}const Je=["aria-expanded","tabindex"],et={class:"queso-dropdown__selector__text"},tt={key:0,class:"queso-dropdown__selector__text__placeholder"},rt={key:1,class:"queso-dropdown__selector__text__active-label"},at={class:"queso-dropdown__selector__icon"},nt={key:0,class:"queso-dropdown__popover__header"},ot=["tabindex","onClick","onKeydown"],it={key:1,class:"queso-dropdown__popover__footer"},st=s.defineComponent({__name:"QuesoDropdown",props:s.mergeModels({options:{},multiple:{type:Boolean},stayOpenOnSelection:{type:Boolean},isDisabled:{type:Boolean}},{modelValue:{default:()=>[]},modelModifiers:{}}),emits:s.mergeModels(["dropdown:open","dropdown:close"],["update:modelValue"]),setup(n,{expose:e,emit:t}){const a=n,l=t,u=s.useModel(n,"modelValue"),o=s.ref(null),v=s.ref([]),p=s.ref(null),f=s.ref(!1),{options:w}=s.toRefs(a),N="queso-collapsible__"+Math.random().toString(36).substring(2,9),y=s.computed(()=>w.value.filter(c=>u.value.includes(c.value))),E=s.computed(()=>({"is-multiple":a.multiple,"is-dropdown-open":f.value,"is-dropdown-close":!f.value,"is-disabled":a.isDisabled})),{activate:S,deactivate:$}=ye(o),A=c=>{a.multiple?u.value.includes(c)?u.value=u.value.filter(r=>r!==c):u.value=[...u.value,c]:u.value=[c],a.multiple||a.stayOpenOnSelection||F()},C=(c,r)=>{r.preventDefault();const i=v.value.findIndex(h=>h===r.target),d=(i+1)%v.value.length,b=(i-1+v.value.length)%v.value.length,m=v.value[d],g=v.value[b];r.key==="ArrowDown"||r.key==="ArrowRight"?m.focus():r.key==="ArrowUp"||r.key==="ArrowLeft"?g.focus():(r.key==="Enter"||r.key===" "||r.key==="Space")&&A(c)},M=()=>{setTimeout(()=>{U.value=0},210)},B=()=>{f.value=!0;const c=v.value[0];S(),c&&c.focus(),l("dropdown:open")},F=()=>{f.value=!1,$(),M(),l("dropdown:close")},x=()=>{f.value?F():B()},z=()=>{a.isDisabled||x()},G=c=>{a.isDisabled||(c.key===" "||c.key==="Space")&&(c.preventDefault(),x())};te.onKeyStroke("Escape",()=>{f.value&&F()}),te.onClickOutside(o,()=>F()),s.watch(()=>a.isDisabled,c=>{c&&f.value&&F()});const{y:U,arrivedState:W}=te.useScroll(p,{offset:{top:15,bottom:15}}),L=s.computed(()=>{var c,r;return p.value?((c=p.value)==null?void 0:c.scrollHeight)>((r=p.value)==null?void 0:r.clientHeight):!1}),O=s.computed(()=>({"is-scrolled-top":W.top,"is-scrolled-bottom":W.bottom||!L.value}));return e({isDropdownOpen:f,openDropdown:B,closeDropdown:F}),(c,r)=>s.unref(w).length>0?(s.openBlock(),s.createElementBlock("div",{key:0,ref_key:"dropdown",ref:o,class:s.normalizeClass(["queso-dropdown",E.value])},[s.createElementVNode("div",{class:"queso-dropdown__selector","aria-expanded":f.value,"aria-controls":N,tabindex:a.isDisabled?-1:0,onClick:r[0]||(r[0]=i=>z()),onKeydown:r[1]||(r[1]=i=>G(i))},[s.renderSlot(c.$slots,"selector",s.normalizeProps(s.guardReactiveProps({isDropdownOpen:f.value,options:s.unref(w),activeOptions:y.value})),()=>[s.renderSlot(c.$slots,"selectorBeforeText",s.normalizeProps(s.guardReactiveProps({isDropdownOpen:f.value,options:s.unref(w),activeOptions:y.value}))),s.createElementVNode("div",et,[y.value.length<1?(s.openBlock(),s.createElementBlock("div",tt,[s.renderSlot(c.$slots,"selectorPlaceholder",s.normalizeProps(s.guardReactiveProps({isDropdownOpen:f.value})))])):(s.openBlock(),s.createElementBlock("div",rt,[s.renderSlot(c.$slots,"selectorActiveOptions",s.normalizeProps(s.guardReactiveProps({isDropdownOpen:f.value,activeOptions:y.value})),()=>[s.createTextVNode(s.toDisplayString(y.value),1)])]))]),s.renderSlot(c.$slots,"selectorAfterText",s.normalizeProps(s.guardReactiveProps({isDropdownOpen:f.value,options:s.unref(w),activeOptions:y.value}))),s.createElementVNode("div",at,[s.renderSlot(c.$slots,"selectorIcon",s.normalizeProps(s.guardReactiveProps({isDropdownOpen:f.value})),()=>[s.createTextVNode("â†“")])])])],40,Je),s.createElementVNode("div",{class:"queso-dropdown__popover",id:N},[c.$slots.popoverHeader?(s.openBlock(),s.createElementBlock("div",nt,[s.renderSlot(c.$slots,"popoverHeader",s.normalizeProps(s.guardReactiveProps({options:s.unref(w),activeOptions:y.value})))])):s.createCommentVNode("",!0),s.createElementVNode("div",{class:s.normalizeClass(["queso-dropdown__popover__scroll",O.value])},[s.createElementVNode("ul",{ref_key:"dropdownPopover",ref:p,class:"queso-dropdown__popover__options-list"},[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(s.unref(w),(i,d)=>(s.openBlock(),s.createElementBlock("li",{key:i.value,ref_for:!0,ref_key:"optionsRefs",ref:v,class:s.normalizeClass(["queso-dropdown__popover__options-list__item",{"is-option-active":u.value.includes(i.value),"is-option-selected":u.value.includes(i.value)}]),tabindex:f.value?"0":"-1",onClick:b=>A(i.value),onKeydown:b=>C(i.value,b)},[s.renderSlot(c.$slots,"popoverItem",s.mergeProps({ref_for:!0},{index:d,...i,isSelected:u.value.includes(i.value),openDropdown:B,closeDropdown:F}),()=>[s.createTextVNode(s.toDisplayString(i),1)])],42,ot))),128))],512)],2),c.$slots.popoverFooter?(s.openBlock(),s.createElementBlock("div",it,[s.renderSlot(c.$slots,"popoverFooter",s.normalizeProps(s.guardReactiveProps({options:s.unref(w),activeOptions:y.value})))])):s.createCommentVNode("",!0)]),s.renderSlot(c.$slots,"afterDropdown")],2)):s.createCommentVNode("",!0)}});exports._sfc_main=st;exports.useFocusTrap=ye;
